# Search

![search](https://github.com/btdobbs/AI/blob/main/Topic/images/search.png)

## Agents that Plan

![agent-plans](https://github.com/btdobbs/AI/blob/main/Topic/images/agent-plans.png)

- **Theme**
  - Goal determination
  - Mathematical abstraction to formalize goal
  - Algorithms that operate on abstraction

### Reflex Agents

![agent-reflex](https://github.com/btdobbs/AI/blob/main/Topic/images/agent-reflex.png)

- Choose action based on current percept
- May have memory or a model of the world’s current state
- Do not consider the future consequences of their actions
- Consider how the world **is**
- Example
  - Eye blinking
  - Vacuum cleaner moving towards nearest dirt
- Can a reflex agent be rational?

**Demonstration: Pac-Man Optimal Reflex**

**Demonstration: Pac-Man Odd Reflex**

### Planning Agents

![agent-plan](https://github.com/btdobbs/AI/blob/main/Topic/images/agent-plan.png)

- Ask *what if*
- Decisions based on (hypothesized) consequences of actions
- Must have a model of how the world evolves in response to actions
- Must formulate a goal (test)
- Consider how the world **would be**
- Optimal vs. complete planning
- Planning vs. replanning

**Demonstration: Pac-Man Replanning**

**Demonstration: Pac-Man Mastermind**

## Search Problems

![agent-search](https://github.com/btdobbs/AI/blob/main/Topic/images/agent-search.png)

### Search Problems

- Search Problem Unpacking
  - State Space
  
    ![pac-man-sp-1](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-sp-1.png)
    ![pac-man-sp-2](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-sp-2.png)
    ![pac-man-sp-3](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-sp-3.png)
    ![pac-man-sp-4](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-sp-4.png)
    ![pac-man-sp-5](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-sp-5.png)
    ![pac-man-sp-6](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-sp-6.png)
    ![pac-man-sp-7](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-sp-7.png)
  - Successor Function
    - Define Actions
    - Define Costs

    ![pac-man-sp-2](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-sp-2.png)
    Action = North, Cost = 1
    ![pac-man-sp-3](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-sp-3.png)
    
    ![pac-man-sp-2](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-sp-2.png)
    Action = East, Cost = 1
    ![pac-man-sp-4](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-sp-3.png)    
    
  - Start State

    ![pac-man-sp-1](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-sp-1.png)
  - Goal State

    ![pac-man-sp-6](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-sp-6.png)
  - Solution

    A sequence of actions (i.e., a plan) which transforms the start state to a goal state.
    - East,1
    - North,1
    - West,2
    - South,2
    - East,2

### Search Problems are Models

![agent-world](https://github.com/btdobbs/AI/blob/main/Topic/images/agent-world.png)

### Example:  Romania Travel

![search-romania](https://github.com/btdobbs/AI/blob/main/Topic/images/search-romania.png)

|                        |                                                 |
| ---------------------- | ----------------------------------------------- |
| **State Space**        | Cities                                          |
| **Successor Function** | Roads: Go to adjacent city with cost = distance |
| **Start State**        | Arad                                            |
| **Goal State**         | Bucharest                                       |
| **Goal Test**          | state == Bucharest                              |

**Solution?**

### Pac-Man State Space

**World State**

![pac-man-world-state](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-world-state.png)

The **world state** includes every last detail of the environment.

A **search state** keeps only the details needed for planning (abstraction)

- Problem: Pathing
  - States: (x,y) location
  - Actions: NSEW
  - Successor: update location only
  - Goal test: is (x,y)=END

- Problem: Eat All Dots
  - States: {(x,y), dot booleans}
  - Actions: NSEW
  - Successor: update location and possibly a dot boolean
  - Goal test: dots all false  

![pac-man-state-size](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-state-size.png)

- World State
  - Agent Positions: 120
  - Food Count: 30
  - Ghost Positions: 12
  - Agent Facing: NSEW (4)

- Magnitude
  - World States: 120 x (2^30) x (12^2) x 4
  - Pathing States: 120
  - Eat All Dots States: 120 x (2^30)

### Safe Passage Quiz

![pac-man-safe-passage](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-safe-passage.png)

- Problem: Eat all dots while keeping the ghosts perma-scared
- What does the state space have to specify?
  - Agent Position
  - Dot Booleans
  - Power Pellet Booleans
  - Remaining Scared Time

### State Space Graphs and Search Trees

![state-space-graph](https://github.com/btdobbs/AI/blob/main/Topic/images/state-space-graph.png)

### State Space Graphs

![pac-man-graph](https://github.com/btdobbs/AI/blob/main/Topic/images/pac-man-graph.png)

- State space graph
  
  A mathematical representation of a search problem
  - Nodes are (abstracted) world configurations
  - Arcs represent successors (action results)
  - The goal test is a set of goal nodes (maybe only one)

- Each state occurs only once
- Building full graph in memory is a usefu idea, but it is rarely possible because it’s too big.

![tree-search-example](https://github.com/btdobbs/AI/blob/main/Topic/images/tree-search-example.png)

## Uninformed Search Problems

### Depth-First Search (DFS)

